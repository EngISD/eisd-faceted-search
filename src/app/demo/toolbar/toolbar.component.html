<mat-toolbar color="primary">
  <mat-toolbar-row>
<!-- Menu and title -->
    <button mat-icon-button
            class="menubutton">
      <mat-icon>menu</mat-icon>
    </button>
    <h1 class="title" 
        (click)="toHome()">Ricerca Commesse</h1>
<!-- Menu and title -->
<!-- Searchbar -->
    <form class="searchbar" 
          [ngStyle]="{'background-color': searchColor}">
      <mat-icon class="searchicon" 
                [ngStyle]="{'color': iconColor}">search
      </mat-icon>
      <input [matAutocomplete]="auto" 
             autocomplete="off" 
             matInput 
             class="search" 
             type="text" 
             placeholder="Ricerca..." 
             [(ngModel)]="value" 
             name="input" 
             (focus)="onFocus()"
             (focusout)="onFocusOut()"
             (ngModelChange)="onKeyUp($event)"
             (keydown.enter)="$event.preventDefault(); selectOption('internalOrder', value); panel.closePanel();">
      <button  mat-icon-button 
               class="cancel" 
               (click)="cleanValue()">
        <mat-icon class="cancel" 
                  [ngStyle]="{'color': iconColor}">clear</mat-icon>
      </button>
      <mat-autocomplete #auto="matAutocomplete" [ngClass]="{'displayNone': value.length &lt; 2}">
        <mat-option #option 
                    class="data-option"
                    value="{{value}}" 
                    (click)="selectOption('internalOrder', value, value)"
                    *ngIf="value.length > 2 && searchResultInternal != 0">{{searchResultInternal}} comesse con "{{ value }}"
        </mat-option>
        <mat-optgroup *ngIf="searchResultProjectManager != 0" 
                      [label]="'Responsabile del Progetto'">
          <mat-option #option 
                      class="data-option" 
                      value="{{item.code}} - {{item.descr}}" 
                      *ngFor="let item of searchResultProjectManager; trackBy: trackByFn;" 
                      (click)="selectOption('cp', item.code, item.descr)">
            <mat-icon class="noSelect">person</mat-icon>({{item.count}}) {{item.code}} - {{item.descr}}
          </mat-option>
        </mat-optgroup>
        <mat-optgroup *ngIf="searchResultCustomer != 0" 
                      [label]="'Cliente'">
          <mat-option #option 
                      class="data-option" 
                      value="{{item.code}} - {{item.descr}}" 
                      *ngFor="let item of searchResultCustomer; trackBy: trackByFn;" 
                      (click)="selectOption('cliente', item.code, item.descr)">
            <mat-icon class="noSelect">account_box</mat-icon>({{item.count}}) {{item.code}} - {{item.descr}}
          </mat-option>
        </mat-optgroup>
        <mat-optgroup *ngIf="searchResultCostCenter != 0" 
                      [label]="'Centro di Costo'">
          <mat-option #option 
                      class="data-option" 
                      value="{{item.code}} - {{item.descr}}" 
                      *ngFor="let item of searchResultCostCenter; trackBy: trackByFn;" 
                      (click)="selectOption('cdc', item.code, item.descr)">
            <img class="cdcIcon noSelect" 
                 src="../../../assets/sitemap.png" 
                 alt="icon" 
                 width="22px" 
                 height="22px">&nbsp;&nbsp;&nbsp;&nbsp;({{item.count}}) {{item.code}} - {{item.descr}}
          </mat-option>
        </mat-optgroup>
        <mat-optgroup *ngIf="searchResultResponsible != 0" 
                      [label]="'Centro di Costo Responsabile'">
          <mat-option #option 
                      class="data-option" 
                      value="{{item.code}} - {{item.descr}}" 
                      *ngFor="let item of searchResultResponsible; trackBy: trackByFn;" 
                      (click)="selectOption('rcdc', item.code, item.descr)">
            <mat-icon class="noSelect">visibility</mat-icon>({{item.count}}) {{item.code}} - {{item.descr}}
          </mat-option>
        </mat-optgroup>
        <mat-optgroup *ngIf="searchResultCommercial != 0" 
                      [label]="'Responsabile Commerciale'">
          <mat-option #option 
                      class="data-option" 
                      value="{{item.code}} - {{item.descr}}" 
                      *ngFor="let item of searchResultCommercial; trackBy: trackByFn;" 
                      (click)="selectOption('fun', item.code, item.descr)">
            <mat-icon class="noSelect">person_outline</mat-icon>({{item.count}}) {{item.code}} - {{item.descr}}
          </mat-option>
        </mat-optgroup>
      </mat-autocomplete>
    </form>
<!-- Searchbar -->
<!-- Buttons -->
    <button mat-icon-button 
            class="iconButton">
      <mat-icon class="icon">help</mat-icon>
    </button>
    <button mat-icon-button 
            class="iconButton">
      <mat-icon class="icon">person_pin</mat-icon>
    </button>
    <button mat-icon-button 
            class="menuIconButton">
      <mat-icon class="menuIcon">more_vert</mat-icon>
    </button>
<!-- Buttons -->
  </mat-toolbar-row>
</mat-toolbar>
